# 1Panel å•å®¹å™¨éƒ¨ç½²æŒ‡å—

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨Justå‘½ä»¤ï¼ˆæ¨èï¼‰

```bash
# ä¸€é”®éƒ¨ç½²åˆ°ç«¯å£9653
just deploy

# æˆ–ä½¿ç”¨å®Œæ•´å‘½ä»¤
just deploy-1panel
```

### æ–¹æ³•äºŒï¼šä½¿ç”¨Dockerå‘½ä»¤

```bash
# æ„å»ºé•œåƒ
docker build -t online-time:latest .

# è¿è¡Œå®¹å™¨
docker run -d \
  --name online-time-app \
  -p 9653:9653 \
  --restart unless-stopped \
  online-time:latest
```

### æ–¹æ³•ä¸‰ï¼šä½¿ç”¨Docker Compose

```bash
# ä½¿ç”¨ç®€åŒ–é…ç½®æ–‡ä»¶
docker-compose -f docker-compose.simple.yml up -d
```

## ğŸ”§ 1Panel åå‘ä»£ç†é…ç½®

### 1. åˆ›å»ºç½‘ç«™
- åœ¨1Panelä¸­åˆ›å»ºæ–°ç½‘ç«™
- é€‰æ‹©"åå‘ä»£ç†"ç±»å‹

### 2. åå‘ä»£ç†è®¾ç½®
```
ä»£ç†åœ°å€: http://127.0.0.1:9653
```

### 3. å¯é€‰ï¼šSSLè¯ä¹¦
- åœ¨1Panelä¸­ä¸ºåŸŸåç”³è¯·SSLè¯ä¹¦
- å¯ç”¨HTTPSè®¿é—®

## ğŸ“Š éƒ¨ç½²ä¿¡æ¯

| é…ç½®é¡¹ | å€¼ |
|--------|-----|
| **å†…éƒ¨ç«¯å£** | 9653 |
| **å®¹å™¨åç§°** | online-time-app |
| **é•œåƒåç§°** | online-time:latest |
| **é‡å¯ç­–ç•¥** | unless-stopped |
| **å¥åº·æ£€æŸ¥** | /health ç«¯ç‚¹ |
| **æ—¥å¿—è½®è½¬** | 10MB Ã— 3ä¸ªæ–‡ä»¶ |

## ğŸ” éªŒè¯éƒ¨ç½²

### æ£€æŸ¥å®¹å™¨çŠ¶æ€
```bash
# æŸ¥çœ‹å®¹å™¨è¿è¡ŒçŠ¶æ€
docker ps | grep online-time

# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker logs online-time-app

# å¥åº·æ£€æŸ¥
curl http://localhost:9653/health
```

### éªŒè¯åŠŸèƒ½
1. **åŸºç¡€è®¿é—®**: `http://localhost:9653`
2. **å¥åº·æ£€æŸ¥**: `http://localhost:9653/health`
3. **é™æ€èµ„æº**: è‡ªåŠ¨ç¼“å­˜ä¼˜åŒ–
4. **SPAè·¯ç”±**: æ”¯æŒå‰ç«¯è·¯ç”±

## ğŸ› ï¸ ç®¡ç†å‘½ä»¤

```bash
# æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
just docker-logs

# é‡å¯æœåŠ¡
docker restart online-time-app

# æ›´æ–°éƒ¨ç½²
just deploy  # è‡ªåŠ¨åœæ­¢æ—§å®¹å™¨å¹¶éƒ¨ç½²æ–°ç‰ˆæœ¬

# åœæ­¢æœåŠ¡
just docker-stop

# æ¸…ç†èµ„æº
just docker-clean
```

## âš¡ æ€§èƒ½ä¼˜åŒ–

### å·²å†…ç½®ä¼˜åŒ–
- âœ… **Gzipå‹ç¼©** - å‡å°‘ä¼ è¾“å¤§å°
- âœ… **é™æ€èµ„æºç¼“å­˜** - 1å¹´ç¼“å­˜æœŸ
- âœ… **éŸ³é¢‘æ–‡ä»¶ç¼“å­˜** - 7å¤©ç¼“å­˜æœŸ  
- âœ… **HTMLé˜²ç¼“å­˜** - ç¡®ä¿æ›´æ–°åŠæ—¶
- âœ… **å¤šé˜¶æ®µæ„å»º** - æœ€å°åŒ–é•œåƒå¤§å°
- âœ… **å¥åº·æ£€æŸ¥** - è‡ªåŠ¨æ•…éšœæ¢å¤

### 1Panelä¼˜åŒ–å»ºè®®
1. **å¯ç”¨CDN** - åŠ é€Ÿé™æ€èµ„æºè®¿é—®
2. **é…ç½®ç¼“å­˜** - åœ¨åå‘ä»£ç†å±‚æ·»åŠ ç¼“å­˜
3. **ç›‘æ§å‘Šè­¦** - è®¾ç½®æœåŠ¡ç›‘æ§

## ğŸ”’ å®‰å…¨é…ç½®

### å·²å†…ç½®å®‰å…¨å¤´
```
X-Frame-Options: SAMEORIGIN
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Referrer-Policy: no-referrer-when-downgrade
Content-Security-Policy: default-src 'self' http: https: data: blob: 'unsafe-inline'
```

### å»ºè®®åœ¨1Panelä¸­é…ç½®
- å¯ç”¨é˜²ç«å¢™åªå…è®¸å¿…è¦ç«¯å£
- å®šæœŸæ›´æ–°å®¹å™¨é•œåƒ
- é…ç½®è®¿é—®æ—¥å¿—å’Œç›‘æ§

## ğŸ†˜ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. ç«¯å£å ç”¨
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :9653

# åœæ­¢å ç”¨è¿›ç¨‹æˆ–æ›´æ¢ç«¯å£
```

#### 2. å®¹å™¨å¯åŠ¨å¤±è´¥
```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
docker logs online-time-app

# æ£€æŸ¥é•œåƒæ˜¯å¦æ„å»ºæˆåŠŸ
docker images | grep online-time
```

#### 3. 1Panelåå‘ä»£ç†ä¸é€š
- ç¡®è®¤å®¹å™¨åœ¨9653ç«¯å£æ­£å¸¸è¿è¡Œ
- æ£€æŸ¥1Panelåå‘ä»£ç†é…ç½®
- éªŒè¯é˜²ç«å¢™è®¾ç½®

#### 4. é™æ€èµ„æº404
- æ£€æŸ¥æ„å»ºæ˜¯å¦æˆåŠŸï¼š`ls -la dist/`
- ç¡®è®¤nginxé…ç½®æ­£ç¡®åŠ è½½

## ğŸ“ˆ ç›‘æ§æŒ‡æ ‡

### å¥åº·æ£€æŸ¥ç«¯ç‚¹
- **URL**: `/health`
- **è¿”å›**: `healthy` (200çŠ¶æ€ç )
- **ç”¨é€”**: 1Panelç›‘æ§ã€è´Ÿè½½å‡è¡¡å™¨å¥åº·æ£€æŸ¥

### å®¹å™¨èµ„æºä½¿ç”¨
```bash
# æŸ¥çœ‹èµ„æºä½¿ç”¨æƒ…å†µ
docker stats online-time-app

# æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
docker inspect online-time-app
```

---

## ğŸ¯ å®Œæ•´éƒ¨ç½²æµç¨‹

1. **å‡†å¤‡ç¯å¢ƒ**
   ```bash
   # ç¡®ä¿Dockerå·²å®‰è£…
   docker --version
   
   # ç¡®ä¿Justå·²å®‰è£…ï¼ˆå¯é€‰ï¼‰
   just --version
   ```

2. **éƒ¨ç½²åº”ç”¨**
   ```bash
   # å…‹éš†é¡¹ç›®ï¼ˆå¦‚æœéœ€è¦ï¼‰
   git clone <é¡¹ç›®åœ°å€>
   cd online-time
   
   # ä¸€é”®éƒ¨ç½²
   just deploy
   ```

3. **é…ç½®1Panel**
   - åˆ›å»ºåå‘ä»£ç†ç½‘ç«™
   - ä»£ç†åœ°å€ï¼š`http://127.0.0.1:9653`
   - ç»‘å®šåŸŸåå’ŒSSLè¯ä¹¦

4. **éªŒè¯éƒ¨ç½²**
   ```bash
   # æ£€æŸ¥æœåŠ¡çŠ¶æ€
   curl http://localhost:9653/health
   
   # é€šè¿‡åŸŸåè®¿é—®
   curl https://your-domain.com
   ```

**éƒ¨ç½²å®Œæˆï¼ğŸ‰**