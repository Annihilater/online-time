# =================================
# 在线时间工具 - 生产环境配置模板
# =================================
# 复制此文件为 .env.prod 并根据实际情况修改

# ============ 基础配置 ============
# 部署模式: basic(基础) | full(完整) | ha(高可用)
DEPLOY_MODE=basic

# 应用配置
APP_HOST=0.0.0.0
APP_PORT=3000

# Docker 镜像
DOCKER_IMAGE=klause/online-time:latest

# ============ 网络配置 ============
# HTTP 端口
HTTP_PORT=80

# 域名配置 (可选)
DOMAIN=localhost

# ============ Redis 配置 ============
# Redis 配置 (full 和 ha 模式需要)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# ============ 高可用模式配置 ============
# HAProxy 统计端口
HAPROXY_STATS_PORT=8404

# 监控服务端口
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
GRAFANA_PASSWORD=admin123

# ============ 安全配置 ============
# 访问控制
ALLOWED_IPS=0.0.0.0/0
RATE_LIMIT=100
RATE_WINDOW=60

# ============ 日志配置 ============
# 日志级别: debug | info | warn | error
LOG_LEVEL=info

# 日志保留天数
LOG_RETENTION_DAYS=30

# ============ 备份配置 ============
# 自动备份间隔 (小时)
BACKUP_INTERVAL=24

# 备份保留天数
BACKUP_RETENTION_DAYS=7

# ============ 性能配置 ============
# 工作进程数 (nginx)
WORKER_PROCESSES=auto

# 连接数限制
WORKER_CONNECTIONS=1024

# 应用实例数 (ha 模式)
APP_REPLICAS=3